<div class="navigation-wrapper">
  <mat-toolbar class="navigation-header" color="primary">
    <button
      type="button"
      class="sidenav-button"
      mat-icon-button
      (click)="closeSideNav()"
    >
      <mat-icon>menu</mat-icon>
    </button>
    <span>Trello Clone</span>
  </mat-toolbar>
  <nav class="navigation">
    <div class="navigation-section" *ngIf="user$ | async; else notLoggedIn">
      <a
        mat-raised-button
        color="primary"
        class="button"
        routerLink="/workspaces"
        routerLinkActive="active-link"
        [routerLinkActiveOptions]="{ exact: true }"
        >Workspaces</a
      >
    </div>
    <ng-template #notLoggedIn>
      <div class="navigation-section">
        <a
          mat-raised-button
          color="primary"
          class="button"
          routerLink="/home"
          routerLinkActive="active-link"
          >Home</a
        >
      </div>
    </ng-template>
    <div class="navigation-section">
      <button
        type="button"
        mat-raised-button
        color="primary"
        class="button"
        *ngIf="user$ | async; else authMenu"
        (click)="logout()"
      >
        Logout
      </button>
      <ng-template #authMenu>
        <a
          mat-raised-button
          color="primary"
          class="button"
          routerLink="/login"
          routerLinkActive="active-link"
        >
          Login
        </a>
        <a
          mat-raised-button
          color="primary"
          class="button"
          routerLink="/register"
          routerLinkActive="active-link"
        >
          Register
        </a>
      </ng-template>
    </div>
  </nav>
</div>
